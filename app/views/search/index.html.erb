<h1>Search</h1>

<input type="text" id="search-input" placeholder="Search..." />
<div id="search-results"></div>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    const searchInput = document.getElementById('search-input');
    const searchResults = document.getElementById('search-results');

    searchInput.addEventListener('input', function() {
      const query = this.value.trim();
      if (query) {
        fetch(`/search?q=${encodeURIComponent(query)}`)
          .then(response => response.json())
          .then(data => {
            searchResults.innerHTML = '';
            data.forEach(result => {
              const resultDiv = document.createElement('div');
              resultDiv.textContent = result.title;
              searchResults.appendChild(resultDiv);
            });
          })
          .catch(error => {
            console.error('Error:', error);
          });
      } else {
        searchResults.innerHTML = '';
      }
    });
  });
</script>